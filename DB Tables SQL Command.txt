CREATE TABLE EMPLOYEES
(
    USERNAME VARCHAR(20) PRIMARY KEY,
    PASSWORD VARCHAR(10) NOT NULL
);
INSERT INTO EMPLOYEES VALUES('admin', 'admin');

CREATE TABLE PRODUCTS
(
    CODE VARCHAR(255) PRIMARY KEY,
    "NAME" VARCHAR(255) NOT NULL,
    COST DOUBLE NOT NULL DEFAULT 0,
    PRICE DOUBLE NOT NULL DEFAULT 0,
    QUANTITY INT NOT NULL DEFAULT 0 CHECK(QUANTITY >= 0),
    DISCOUNT DOUBLE NOT NULL DEFAULT 0
);

CREATE TABLE CUSTOMERS
(
    ID INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    "NAME" VARCHAR(255) NOT NULL,
    PHONE VARCHAR(11),
    ADDRESS VARCHAR(255)
);

CREATE TABLE SUPPLIERS
(
    ID INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    "NAME" VARCHAR(255) NOT NULL,
    PHONE VARCHAR(11),
    ADDRESS VARCHAR(255)
);

CREATE TABLE SAFE
(
    ID INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    DATE TIMESTAMP NOT NULL,
    EMPLOYEE VARCHAR(20) NOT NULL,
    STATEMENT VARCHAR(255)  NOT NULL,
    PRICE DOUBLE NOT NULL
);

CREATE TABLE EXPENSES
(
    ID INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    SAFEID INT NOT NULL,
    EXPENSE VARCHAR(255) NOT NULL,
    COST DOUBLE NOT NULL
);

CREATE TABLE SALEINVOICE
(
    "NO" INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    SAFEID INT NOT NULL,
    CUSTOMERID INT,
    TOTAL DOUBLE NOT NULL,
    DISCOUNT DOUBLE NOT NULL
);

CREATE TABLE SALEINVOICE_PRODUCT
(
    INVOICENO INT NOT NULL,
    PRODUCTCODE VARCHAR(255) NOT NULL,
    PRICE DOUBLE NOT NULL,
    QUANTITY INT NOT NULL,
    DISCOUNT DOUBLE NOT NULL
);

CREATE TABLE RETURNINVOICE
(
    "NO" INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    SALEINVOICENO INT NOT NULL,
    SAFEID INT NOT NULL,
    TOTAL DOUBLE NOT NULL
);

CREATE TABLE RETURNINVOICE_PRODUCT
(
    INVOICENO INT NOT NULL,
    PRODUCTCODE VARCHAR(255) NOT NULL,
    QUANTITY INT NOT NULL
);

CREATE TABLE PURCHASEINVOICE
(
    "NO" INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    SAFEID INT NOT NULL,
    SUPPLIERID INT,
    TOTAL DOUBLE NOT NULL
);

CREATE TABLE PURCHASEINVOICE_PRODUCT
(
    INVOICENO INT NOT NULL,
    PRODUCTCODE VARCHAR(255) NOT NULL,
    COST DOUBLE NOT NULL,
    QUANTITY INT NOT NULL
);